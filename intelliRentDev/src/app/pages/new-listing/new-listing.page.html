<ion-header [translucent]="false" mode="md" class="ion-no-border">
  <ion-toolbar color="whiteColor" style="box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1)">
    <div class="rowAlignCenter center" style="padding: 0 20px; background-color: var(--whiteColor)">
      <ion-text class="blackColor18Bold" style="text-align: center; max-width: 80%">
        Add New Listing
      </ion-text>
      <ion-icon (click)="goBack()" name="arrow-back" color="blackColor"
        style="font-size: 24px; position: absolute; left: 20px">
      </ion-icon>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <div class="margin20" style="display: flex; justify-content: center">
    <div id="open-modal" class="center circle100">
      <span class="material-icons" style="font-size: 26px">add_alarm</span>
    </div>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.title" mode="md" fill="outline" placeholder="Title" class="txtField blackColor14Medium" color="primaryColor"></ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.address" mode="md" fill="outline" placeholder="Address"
      class="txtField blackColor14Medium" color="primaryColor"></ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.squareFootage" (ngModelChange)="handleInputChange('squareFootage', $event)"
      mode="md" fill="outline" placeholder="Square Footage" type="number" class="txtField blackColor14Medium"
      color="primaryColor"></ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.bathrooms" (ngModelChange)="handleInputChange('bathrooms', $event)" mode="md"
      fill="outline" placeholder="Bathrooms" type="number" class="txtField blackColor14Medium" color="primaryColor">
    </ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.bedrooms" (ngModelChange)="handleInputChange('bedrooms', $event)" mode="md"
      fill="outline" placeholder="Bedrooms" type="number" class="txtField blackColor14Medium" color="primaryColor">
    </ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.utilityRooms" (ngModelChange)="handleInputChange('utilityRooms', $event)" mode="md"
      fill="outline" placeholder="Utility / Spare Rooms" type="number" class="txtField blackColor14Medium"
      color="primaryColor"></ion-input>
  </div>

  <div style="margin: 20px">
    <ion-input [(ngModel)]="listing.price" (ngModelChange)="handleInputChange('price', $event)" mode="md" fill="outline"
      placeholder="Price(in EUR)" type="number" class="txtField blackColor14Medium" color="primaryColor"></ion-input>
  </div>

  <div class="rowAlignCenter margin20" style="margin-bottom: 70px">
    <div class="rowAlignCenter" style="flex: 1; margin-right: 10px">
      <div (click)="listing.type='Sublet'" class="center circle20">
        <div *ngIf="listing.type==='Sublet'" class="circle14"></div>
      </div>
      <ion-text style="margin-left: 10px; flex: 1" class="blackColor14Medium">Sublet</ion-text>
    </div>
    <div class="rowAlignCenter" style="flex: 1; margin-left: 10px">
      <div (click)="listing.type='Rent'" class="center circle20">
        <div *ngIf="listing.type==='Rent'" class="circle14"></div>
      </div>
      <ion-text style="margin-left: 10px; flex: 1" class="blackColor14Medium">Rent</ion-text>
    </div>
  </div>

  <div (click)="addListing()" slot="fixed" class="center addListingButton"
    [style.padding-bottom]="platform.is('android')?'10px':keyboardShow?'10px':'20px'">
    <ion-text class="whiteColor18Bold"> Add Listing </ion-text>
  </div>


  <ion-modal mode="md" [initialBreakpoint]="1" [breakpoints]="[0, 1]" style="--height: auto" handle="false"
    trigger="open-modal">
    <ng-template>
      <div style="
          background-color: var(--whiteColor);
          padding: 15px 0px;
          padding-bottom: 25px;
        " [style.padding-bottom]="platform.is('android')?'20px':'30px'">
        <ion-text class="blackColor18Bold" style="display: flex; justify-content: center">
          Choose Option
        </ion-text>
        <div class="divider"></div>
        <div style="margin: 0 20px">
          <ion-row (click)="closeSheet()" style="align-items: center">
            <ion-icon name="camera" color="blackColor" style="font-size: 22px"></ion-icon>
            <ion-text class="blackColor16Medium" style="margin-left: 10px">
              Camera
            </ion-text>
          </ion-row>
          <ion-row (click)="closeSheet()" style="align-items: center; margin-top: 15px">
            <ion-icon name="image" color="blackColor" style="font-size: 22px"></ion-icon>
            <ion-text class="blackColor16Medium" style="margin-left: 10px">
              Choose from gallery
            </ion-text>
          </ion-row>
        </div>
      </div>
    </ng-template>
  </ion-modal>

</ion-content>
